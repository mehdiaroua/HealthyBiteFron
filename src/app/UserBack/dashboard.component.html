<section class="hero">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="hero__categories">
                    <div class="hero__categories__all">
                        <i class="fa fa-bars"></i>
                        <span>All departments</span>
                    </div>
                    <ul>
                      <li><a href="#" routerLink="/repas/restaurant">Restaurant</a></li>
                      <li><a href="#" routerLink="/dash">User</a></li>
                      <li><a href="#" routerLink="/produit/fournisseur">Fournisseur</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="hero__search">
                    <div class="hero__search__form">
                      <form (ngSubmit)="searchUsers()">
                        <div class="form-group">
                        <input type="text" class="form-control" id="username" name="username" placeholder="Enter username" [(ngModel)]="username">
                        <button type="submit" class="site-btn" >SEARCH</button>
                      </div>
                      </form>
                      </div>



                </div>
                <button type="submit" class="btn btn-primary" routerLink="/add">Add User</button>
                <button type="button" class="btn btn-primary" routerLink="/pie" style="margin-right: 10px;">View Chart</button> <!-- New button code -->


                <div class="container edit-form" *ngIf="isEditing">
                  <h2>Edit User</h2>
                  <form (ngSubmit)="onUpdate()">
                    <div class="form-group">
                      <label for="username">Username:</label>
                      <input type="text" class="form-control" id="username" name="username" [(ngModel)]="selectedUser.username">
                    </div>
                    <div class="form-group">
                      <label for="email">Email:</label>
                      <input type="email" class="form-control" id="email" name="email" [(ngModel)]="selectedUser.email">
                    </div>
                    <div class="form-group">
                      <label for="phone">Phone:</label>
                      <input type="text" class="form-control" id="phone" name="phone" [(ngModel)]="selectedUser.phone">
                    </div>


                    <button type="submit" class="btn btn-primary" (click)="onCancel()">Save</button>
                    <button type="button" class="btn btn-default" (click)="onCancel()">Cancel</button>
                  </form>
                </div>


                <div class="container">

                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Phone</th>
                            <th scope="col">Role</th>

                            <th scope="col">status</th>

                            <th scope="col">Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let user of users ">
                            <td>{{ user.username }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.phone }}</td>
                            <td>{{ user.role }}
                              <div class="form-group">
                                <select [(ngModel)]="selectedRole" class="form-control">
                                  <option value="ROLE_ADMIN">ADMIN</option>
                                  <option value="ROLE_USER">USER</option>
                                  <option value="ROLE_FOURNISSEUR">FOURNISSEUR</option>
                                  <option value="ROLE_RESTAURANT">RESTAURANT</option>
                                </select>
                              </div>
                              <button class="btn btn-success" (click)="onUpdateRole(user.id, selectedRole)">
                                Save
                              </button>
                            </td>

                            <td><button class="btn btn-success mr-1" (click)="onEnable(user.id)" [disabled]="user.enabled">
                                Enable
                              </button>
                              <button class="btn btn-warning mr-1" (click)="onDisable(user.id)" [disabled]="!user.enabled">
                                Disable
                                </button></td>
                            <td>

                              <button class="btn btn-primary mr-1" (click)="onEdit1(user)">
                                Edit
                              </button>
                                <button class="btn btn-danger" (click)="onDelete(user.id)">
                                <i class="fa fa-times"></i>
                                </button>

                                </td>

                                </tr>

                                  </tbody>
                                </table>

                  </div>

                </div>
              </div>
            </div>
              </section>
