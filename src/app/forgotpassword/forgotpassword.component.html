<div class="container">
  <form #phoneForm="ngForm" (ngSubmit)="onSubmit(phoneForm)">
    <div class="form-group">
      <label for="phone">Phone number:</label>
      <input type="text" name="phone" [(ngModel)]="user.phone" required #phone="ngModel" class="form-control">
      <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger">
        Phone number is required.
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Send SMS</button>
  </form>
  <div *ngIf="smsSent" class="mt-3">
    <p>SMS sent to {{ user.phone }} with code {{ user.code }}</p>
  </div>

  <form (ngSubmit)="resetPassword()" #resetForm="ngForm" class="mt-3">
    
    <div class="form-group">
      <label for="code">Verification Code</label>
      <input type="text" class="form-control" id="code" name="code" [(ngModel)]="code" required>
    </div>
    <div class="form-group">
      <label for="newPassword">New Password</label>
      <input type="password" class="form-control" id="newPassword" name="newPassword" [(ngModel)]="newPassword" required>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="resetForm.invalid" >Reset Password</button>
    <a routerLink="/login" class="btn btn-link">Go to login page</a>
  </form>
  
</div>
<div *ngIf="passwordReset" class="mt-3">
  <h2>Password Reset</h2>
  <p>Your password has been reset.</p>
</div>
